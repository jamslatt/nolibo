<template name="home">
  <div class="row">
    <div class="container" style="margin-top: 10vh;">
      <div class="col-md-12 ">
        <div class="jumbotron">
          <h1 class="display-4">Â¡No Libo!</h1>
          <p class="subtitle">Before this... you had no libo. You had no libo because you waited in line for Gumpy to write his buddys name in a notebook. Say goodbye to writing and drawing lines in a green book. The only downside to this is we save
            trees.</p>
          <hr class="my-4">
          <div class="row">
            <div class="col-md-6">
              <a href="/out" style="width: 100%;height: 175px;" class="btn btn-lg btn-primary"><br /><i class="fas fa-sign-out-alt"></i><br />Sign Out<br /><i>leaving alpha co</i></a>
            </div>
            <div class="col-md-6">
              <a href="/in" style="width: 100%;height: 175px;vertical-align: bottom;" class="btn btn-lg btn-outline-primary"><br /><i class="fas fa-sign-in-alt"></i><br />Sign In<br /><i>coming back from trip</i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="container" style="margin-top: 10vh;">
      <div class="col-md-12 ">
        <a href="/sdo" style="float:right;" class="btn btn-lg btn-outline-danger">SDO</a>
      </div>
    </div>
  </div>
</template>
<template name="signIn">
  <div class="container" style="margin-top: 10vh">
    <div class="row">
      <div class="col-md-12 ">
        <div class="jumbotron">
          <h1 class="display-4">Scan your CAC Card...</h1>
          <a href="/" title="Home" class="btn btn-outline-primary">Home</a>
          <a href="/out" title="Sign In" class="btn btn-outline-primary">Sign Out</a>
          <hr class="my-4">
          <form>
            <div class="form-group">
              <input type="text" class="form-control" id="cac" placeholder="CAC RAW Data">
            </div>
          </form>
          <script>
            $("#cac").keypress(function(event) {
            if (event.which == 13) {
                event.preventDefault();
                name = $('#cac').delay(2000).val().substring(35,50);
                location.replace("/n/"+ name);

            }
          });


          </script>
        </div>
      </div>
    </div>
    <script>
      $('#cac').focus();
    </script>
  </div>

</template>
<template name="signOut">
  <div class="container" style="margin-top: 10vh">
    <div class="row">
      <div class="col-md-12 ">
        <div class="jumbotron">
          <h1 class="display-4">Sign Out</h1>
          <a href="/" title="Home" class="btn btn-outline-primary">Home</a>
          <a href="/in" title="Sign In" class="btn btn-outline-primary">Sign In</a>

          <hr class="my-4">
            <div class="form-group">
              <label for="primaryCAC">CAC #1</label>
              <input type="text" name="primaryCAC" class="form-control" id="primaryCAC" aria-describedby="pCAChelp" placeholder="Scan your CAC Card...">
              <small id="pCAChelp" class="form-text text-muted">Scan the barcode just below your picture on your Military ID (CAC).</small>
            </div>
            <div class="form-group">
              <label for="secondaryCAC">CAC #2</label>
              <input type="text" name="secondaryCAC" class="form-control" id="secondaryCAC" aria-describedby="sCAChelp" placeholder="Scan your CAC Card...">
              <small id="sCAChelp" class="form-text text-muted">Scan the barcode just below your picture on your Military ID (CAC).</small>
            </div>
            <div class="form-group">
              <label for="secondaryCAC">Destination</label>
              <input type="text" name="destination" class="form-control" id="location" aria-describedby="loc" placeholder="Scan your destination...">
              <small id="loc" class="form-text text-muted">Scan the barcode that matches the location you are traveling to.</small>
            </div>

            <br/>
            <button class="btn btn-lg signIn btn-primary" width="100%">Sign In</button>

        </div>
      </div>
    </div>
    <script>
      $('#primaryCAC').focus();
      /*$(":input").keypress(function(event){
    if (event.which == '10' || event.which == '13') {
        event.preventDefault();
    }
    });*/
    jQuery.extend(jQuery.expr[':'], {
    focusable: function (el, index, selector) {
        return $(el).is('a, button, :input, [tabindex]');
    }
    });

    $(document).on('keypress', 'input,select', function (e) {

    if (e.which == 13) {
        e.preventDefault();
        // Get all focusable elements on the page
        var $canfocus = $(':focusable');
        var index = $canfocus.index(document.activeElement) + 1;
        if (index >= $canfocus.length) index = 0;
        $canfocus.eq(index).delay(1000).focus();
    }
    });


    $("#location").keypress(function(event) {
    if (event.which == 13) {
      $('form').submit();
  }
});
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

  </div>
</template>
<template name="byname">
  <div class="container" style="margin-top: 10vh">
    <div class="row">
      <div class="col-md-12 ">
        <div class="jumbotron">
          <a href="/" title="Home" class="btn btn-outline-primary">Home</a>
          <a href="/in" title="Sign In" class="btn btn-outline-primary">Sign In</a>
          <a href="/out" title="Sign Out" class="btn btn-outline-primary">Sign Out</a>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Buddy</th>
                <th scope="col">Location</th>
                <th scope="col">Time Out</th>
                <th scope="col">Sign In</th>
              </tr>
            </thead>
            <tbody>
              {{#each primary}}
                <tr>
                  <td>{{firstName}}</td>
                  <td>{{secondName}}</td>
                  <td>{{destination}}</td>
                  <td>{{signOut}}</td>
                  <td><button id="signIn" class="btn btn-sm btn-warning">Sign in</button></td>
                </tr>
              {{/each}}
              {{#each secondary}}
                <tr>
                  <td>{{firstName}}</td>
                  <td>{{secondName}}</td>
                  <td>{{destination}}</td>
                  <td>{{signOut}}</td>
                  <td><button id="signIn" class="btn btn-sm btn-warning">Sign in</button></td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</template>
<template name="sdo">

  <div class="container-fluid" style="margin-top: 10vh">
    <div class="row">
      <div class="col-md-8 offset-md-2 jumbotron">
        <h1 class="display-4">SDO Dashboard</h1>
        <div class="row">
          <div class="col-md-6">
            <a href="/" title="Home" class="btn btn-outline-primary">Home</a>
            <a href="/in" title="Sign In" class="btn btn-outline-primary">Sign In</a>
            <a href="/out" title="Sign Out" class="btn btn-outline-primary">Sign Out</a>
          </div>
          <div class="col-md-6">
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">History</span>
              </div>
              <input type="text" class="form-control" id="history" placeholder="Enter Day to View Records YYYYMMDD" required>
            </div>
          </div>
        </div>
        <script>
        $("#history").keypress(function(event) {
        if (event.which == 13) {
            event.preventDefault();
            name = $('#history').val();
            location.replace("/d/"+ name);

        }
      });
        </script>


        <div class="alert alert-light" style="margin-top: 25px" role="alert">
          Hit <em>Ctrl+F</em> to search for a name or location!
        </div>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Name</th>
              <th scope="col">Buddy</th>
              <th scope="col">Location</th>
              <th scope="col">Time Out</th>
              <th scope="col">Sign In</th>
            </tr>
          </thead>
          <tbody>
            {{#each primaryDB}}
              <tr>
                <td>{{firstName}}</td>
                <td>{{secondName}}</td>
                <td>{{destination}}</td>
                <td>{{signOut}}</td>
                <td>{{#if signIn}}{{signIn}}{{else}}
                    <div class="alert alert-danger" role="alert">FAILED TO SIGN IN</div>
                  {{/if}}</td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</template>

<template name="sdoHistory">

  <div class="container-fluid" style="margin-top: 10vh">
    <div class="row">
      <div class="col-md-8 offset-md-2 jumbotron">
        <h1 class="display-4">SDO Dashboard</h1>
        <div class="row">
          <div class="col-md-6">
            <a href="/" title="Home" class="btn btn-outline-primary">Home</a>
            <a href="/in" title="Sign In" class="btn btn-outline-primary">Sign In</a>
            <a href="/out" title="Sign Out" class="btn btn-outline-primary">Sign Out</a>
          </div>
          <div class="col-md-6">
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">History</span>
              </div>
              <input type="text" class="form-control" id="history" placeholder="Enter Day to View Records YYYYMMDD" required>
            </div>
          </div>
        </div>
        <script>
        $("#history").keypress(function(event) {
        if (event.which == 13) {
            event.preventDefault();
            name = $('#history').val();
            location.replace("/d/"+ name);

        }
      });
        </script>


        <div class="alert alert-light" style="margin-top: 25px" role="alert">
          Hit <em>Ctrl+F</em> to search for a name or location!
        </div>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Name</th>
              <th scope="col">Buddy</th>
              <th scope="col">Location</th>
              <th scope="col">Time Out</th>
              <th scope="col">Sign In</th>
            </tr>
          </thead>
          <tbody>
            {{#each primaryDB}}
              <tr>
                <td>{{firstName}}</td>
                <td>{{secondName}}</td>
                <td>{{destination}}</td>
                <td>{{signOut}}</td>
                <td>{{#if signIn}}{{signIn}}{{else}}
                    <div class="alert alert-danger" role="alert">FAILED TO SIGN IN</div>
                  {{/if}}</td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</template>
